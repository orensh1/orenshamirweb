<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="noindex" />
  <title>◊†◊ô◊î◊ï◊ú ◊™◊ï◊õ◊ü ‚Äî Oren Shamir</title>

  <!-- Netlify Identity for auth -->
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

  <!-- Google Fonts for preview pane -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Heebo:wght@100;300;400;500;700;900&family=Rubik:wght@400;500;600;700;800;900&display=swap"
    rel="stylesheet">

  <!-- Custom Admin Theme (Cache Busting v6) -->
  <link rel="stylesheet" href="/admin/admin.css?v=6">

  <style>
    /* ‚îÄ‚îÄ‚îÄ Custom CMS Branding ‚îÄ‚îÄ‚îÄ */
    [data-slate-editor] {
      -webkit-user-modify: read-write !important;
    }

    /* Dark body background */
    body {
      background: #0a0a0a !important;
    }

    /* Gradient top bar */
    header[class*="AppHeader"],
    .css-yal7as {
      background: linear-gradient(135deg, #1e1b4b 0%, #0f172a 100%) !important;
    }

    /* Sidebar styling */
    [class*="SidebarNavList"] a {
      border-radius: 8px !important;
      margin: 2px 8px !important;
      transition: background 0.2s !important;
    }

    /* Publish button gradient */
    [class*="ToolbarButton"]:first-child,
    [class*="PublishButton"] {
      background: linear-gradient(135deg, #ec4899, #8b5cf6) !important;
      border: none !important;
      border-radius: 12px !important;
      font-weight: 600 !important;
    }

    /* Center the editor content */
    [class*="ControlPaneContainer"] {
      max-width: 820px;
      margin: 0 auto;
    }

    /* RTL input fields */
    [class*="ControlContainer"] label {
      text-align: right;
      direction: rtl;
    }

    [class*="ControlContainer"] input,
    [class*="ControlContainer"] textarea {
      direction: rtl;
      text-align: right;
    }
  </style>
</head>

<body>
  <!-- Load Decap CMS -->
  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>

  <script>
    // ‚îÄ‚îÄ‚îÄ Inject styles into the CMS preview iframe ‚îÄ‚îÄ‚îÄ
    var previewStyles = [
      // Tailwind CDN for utility classes
      'https://cdn.jsdelivr.net/npm/tailwindcss@3/dist/tailwind.min.css',
      // Google Fonts
      'https://fonts.googleapis.com/css2?family=Heebo:wght@100;300;400;500;700;900&family=Rubik:wght@400;500;600;700;800;900&display=swap'
    ];
    previewStyles.forEach(function (url) { CMS.registerPreviewStyle(url); });

    // Inline styles for the preview
    CMS.registerPreviewStyle(`
      * { box-sizing: border-box; }
      body {
        font-family: 'Heebo', 'Rubik', sans-serif;
        direction: rtl;
        text-align: right;
        background: #050505;
        color: #fff;
        margin: 0;
        padding: 0;
        -webkit-font-smoothing: antialiased;
      }
      .preview-container {
        width: 100%;
        min-height: 100vh;
      }

      /* ‚îÄ‚îÄ‚îÄ Hero ‚îÄ‚îÄ‚îÄ */
      .preview-hero {
        background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 30%, #050505 100%);
        padding: 80px 32px 60px;
        text-align: center;
        position: relative;
        overflow: hidden;
      }
      .preview-hero::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 600px;
        height: 600px;
        background: radial-gradient(circle, rgba(139,92,246,0.15) 0%, transparent 70%);
        transform: translate(-50%, -50%);
        pointer-events: none;
      }
      .preview-hero .badge {
        display: inline-block;
        background: rgba(255,255,255,0.08);
        border: 1px solid rgba(255,255,255,0.12);
        border-radius: 999px;
        padding: 6px 20px;
        font-size: 13px;
        color: rgba(255,255,255,0.7);
        margin-bottom: 28px;
        backdrop-filter: blur(8px);
      }
      .preview-hero h1 {
        font-family: 'Rubik', sans-serif;
        font-size: 56px;
        font-weight: 900;
        line-height: 1.15;
        margin: 0 0 16px;
      }
      .preview-hero h1 .gradient-text {
        background: linear-gradient(135deg, #3b82f6, #a855f7, #ec4899);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      .preview-hero .subtitle {
        font-size: 20px;
        color: rgba(255,255,255,0.6);
        margin-bottom: 8px;
      }
      .preview-hero .highlight-word {
        color: #22c55e;
        font-weight: 700;
        font-size: 22px;
      }
      .preview-hero .cta-btn {
        display: inline-block;
        margin-top: 32px;
        padding: 14px 40px;
        background: linear-gradient(135deg, #ec4899, #8b5cf6);
        color: #fff;
        font-size: 18px;
        font-weight: 700;
        border-radius: 14px;
        text-decoration: none;
        box-shadow: 0 8px 30px rgba(139,92,246,0.3);
      }

      /* ‚îÄ‚îÄ‚îÄ Section shared ‚îÄ‚îÄ‚îÄ */
      .preview-section {
        padding: 60px 32px;
        border-top: 1px solid rgba(255,255,255,0.05);
      }
      .preview-section h2 {
        font-family: 'Rubik', sans-serif;
        font-size: 36px;
        font-weight: 800;
        margin: 0 0 10px;
      }
      .preview-section h2 .accent {
        background: linear-gradient(135deg, #3b82f6, #a855f7);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      .preview-section p {
        color: rgba(255,255,255,0.6);
        font-size: 16px;
        line-height: 1.75;
        margin: 6px 0;
      }

      /* ‚îÄ‚îÄ‚îÄ About ‚îÄ‚îÄ‚îÄ */
      .preview-about .about-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 40px;
        margin-top: 24px;
      }
      .preview-about .feature-card {
        background: rgba(255,255,255,0.03);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 16px;
        padding: 20px;
        margin-top: 12px;
      }
      .preview-about .feature-card h4 {
        font-weight: 700;
        margin: 0 0 6px;
        font-size: 16px;
      }
      .preview-about .feature-card p {
        font-size: 14px;
        margin: 0;
      }

      /* Color helpers */
      .color-purple { color: #a855f7; }
      .color-blue { color: #3b82f6; }
      .color-pink { color: #ec4899; }
      .bg-purple { background: rgba(168,85,247,0.1); }
      .bg-blue { background: rgba(59,130,246,0.1); }
      .bg-pink { background: rgba(236,72,153,0.1); }

      /* ‚îÄ‚îÄ‚îÄ Process ‚îÄ‚îÄ‚îÄ */
      .preview-process .steps {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 24px;
        margin-top: 32px;
      }
      .preview-process .step-card {
        background: rgba(255,255,255,0.03);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 16px;
        padding: 28px 20px;
        text-align: center;
      }
      .preview-process .step-icon {
        width: 56px;
        height: 56px;
        border-radius: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 16px;
        font-size: 24px;
      }
      .preview-process .step-card h4 {
        font-weight: 700;
        font-size: 18px;
        margin: 0 0 8px;
      }
      .preview-process .step-card p {
        font-size: 14px;
      }

      /* ‚îÄ‚îÄ‚îÄ FAQ ‚îÄ‚îÄ‚îÄ */
      .preview-faq .faq-item {
        background: rgba(255,255,255,0.03);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 12px;
        padding: 20px 24px;
        margin-top: 12px;
      }
      .preview-faq .faq-item h4 {
        font-weight: 700;
        margin: 0 0 8px;
        font-size: 16px;
      }
      .preview-faq .faq-item p {
        font-size: 14px;
        margin: 0;
      }

      /* ‚îÄ‚îÄ‚îÄ Contact ‚îÄ‚îÄ‚îÄ */
      .preview-contact .contact-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-top: 24px;
      }
      .preview-contact .contact-card {
        background: rgba(255,255,255,0.03);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 12px;
        padding: 20px;
      }
      .preview-contact .contact-card .label {
        font-size: 12px;
        color: rgba(255,255,255,0.4);
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 6px;
      }
      .preview-contact .contact-card .value {
        font-size: 16px;
        font-weight: 600;
        color: #fff;
      }

      /* ‚îÄ‚îÄ‚îÄ Divider ‚îÄ‚îÄ‚îÄ */
      .section-divider {
        height: 1px;
        background: linear-gradient(90deg, transparent, rgba(139,92,246,0.3), transparent);
        margin: 0;
        border: none;
      }

      /* ‚îÄ‚îÄ‚îÄ Section Label ‚îÄ‚îÄ‚îÄ */
      .section-label {
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: rgba(139,92,246,0.6);
        margin-bottom: 16px;
        font-weight: 600;
      }
    `, { raw: true });

    // ‚îÄ‚îÄ‚îÄ Icon map (SVG paths) ‚îÄ‚îÄ‚îÄ
    var iconSVGs = {
      Smartphone: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>',
      Zap: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>',
      Layout: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></svg>',
      MessageCircle: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg>',
      Code2: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m18 16 4-4-4-4"/><path d="m6 8-4 4 4 4"/><path d="m14.5 4-5 16"/></svg>',
      Rocket: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg>'
    };

    var colorMap = {
      purple: 'color-purple',
      blue: 'color-blue',
      pink: 'color-pink'
    };
    var bgMap = {
      purple: 'bg-purple',
      blue: 'bg-blue',
      pink: 'bg-pink',
      'text-blue-500': 'color-blue',
      'text-purple-500': 'color-purple',
      'text-pink-500': 'color-pink',
      'bg-blue-500/10': 'bg-blue',
      'bg-purple-500/10': 'bg-purple',
      'bg-pink-500/10': 'bg-pink'
    };

    // Helper to safely get nested data
    function getData(entry, path) {
      try {
        var val = entry.getIn(['data'].concat(path));
        if (val && val.toJS) return val.toJS();
        return val || '';
      } catch (e) { return ''; }
    }

    // ‚îÄ‚îÄ‚îÄ Preview Template ‚îÄ‚îÄ‚îÄ
    var SitePreview = createClass({
      render: function () {
        var entry = this.props.entry;

        // Hero data
        var hero = getData(entry, ['hero']) || {};
        var navbar = getData(entry, ['navbar']) || {};
        var about = getData(entry, ['about']) || {};
        var process = getData(entry, ['process']) || {};
        var faq = getData(entry, ['faq']) || {};
        var contact = getData(entry, ['contact']) || {};
        var whatsapp = getData(entry, ['whatsapp']) || {};

        return h('div', { className: 'preview-container' },

          // ‚ïê‚ïê‚ïê HERO ‚ïê‚ïê‚ïê
          h('div', { className: 'preview-hero' },
            h('div', { className: 'section-label' }, 'HERO'),
            h('div', { className: 'badge' }, hero.badgeText || ''),
            h('h1', {},
              (hero.headlineLine1 || '') + ' ',
              h('span', { className: 'gradient-text' }, hero.headlineLine2 || '')
            ),
            h('div', { className: 'subtitle' },
              (hero.subtitle || '') + ' ',
              h('span', { className: 'highlight-word' }, hero.highlightWord || '')
            ),
            h('a', { className: 'cta-btn', href: '#' }, hero.ctaText || '')
          ),

          h('hr', { className: 'section-divider' }),

          // ‚ïê‚ïê‚ïê ABOUT ‚ïê‚ïê‚ïê
          h('div', { className: 'preview-section preview-about' },
            h('div', { className: 'section-label' }, 'ABOUT'),
            h('h2', {},
              (about.headingLine1 || ''),
              h('span', { className: 'accent' }, about.headingName || '')
            ),
            h('div', { className: 'about-grid' },
              h('div', {},
                (about.paragraphs || []).map(function (p, i) {
                  return h('p', { key: i }, p);
                })
              ),
              h('div', {},
                h('div', {
                  style: {
                    background: 'linear-gradient(135deg, rgba(139,92,246,0.1), rgba(59,130,246,0.1))',
                    borderRadius: '20px',
                    padding: '40px',
                    textAlign: 'center',
                    border: '1px solid rgba(255,255,255,0.06)'
                  }
                },
                  h('div', { style: { fontSize: '20px', fontWeight: '700' } }, about.imageCaption || ''),
                  h('div', { style: { fontSize: '14px', color: 'rgba(255,255,255,0.5)' } }, about.imageSubCaption || '')
                )
              )
            ),
            // Feature cards
            h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(3,1fr)', gap: '16px', marginTop: '24px' } },
              (about.features || []).map(function (f, i) {
                var cClass = colorMap[f.colorClass] || 'color-purple';
                var bClass = bgMap[f.colorClass] || 'bg-purple';
                return h('div', { key: i, className: 'feature-card' },
                  h('div', {
                    className: cClass,
                    dangerouslySetInnerHTML: { __html: iconSVGs[f.iconName] || '' },
                    style: { marginBottom: '12px' }
                  }),
                  h('h4', {}, f.title || ''),
                  h('p', {}, f.description || '')
                );
              })
            ),
            // Marquee text
            about.marqueeText ? h('div', {
              style: {
                fontSize: '72px',
                fontWeight: '900',
                color: 'rgba(255,255,255,0.03)',
                marginTop: '24px',
                whiteSpace: 'nowrap',
                overflow: 'hidden',
                letterSpacing: '8px',
                fontFamily: "'Rubik', sans-serif",
                direction: 'ltr'
              }
            }, about.marqueeText) : null
          ),

          h('hr', { className: 'section-divider' }),

          // ‚ïê‚ïê‚ïê PROCESS ‚ïê‚ïê‚ïê
          h('div', { className: 'preview-section preview-process' },
            h('div', { className: 'section-label' }, 'PROCESS'),
            h('h2', {},
              (process.titleBase || ''),
              h('span', { className: 'accent' }, process.titleHighlight || '')
            ),
            h('div', { className: 'steps' },
              (process.steps || []).map(function (step, i) {
                var cClass = bgMap[step.color] || 'color-blue';
                var bClass = bgMap[step.bg] || 'bg-blue';
                return h('div', { key: i, className: 'step-card' },
                  h('div', { className: 'step-icon ' + bClass },
                    h('span', {
                      className: cClass,
                      dangerouslySetInnerHTML: { __html: iconSVGs[step.iconName] || '' }
                    })
                  ),
                  h('h4', {}, step.title || ''),
                  h('p', {}, step.description || '')
                );
              })
            )
          ),

          h('hr', { className: 'section-divider' }),

          // ‚ïê‚ïê‚ïê FAQ ‚ïê‚ïê‚ïê
          h('div', { className: 'preview-section preview-faq' },
            h('div', { className: 'section-label' }, 'FAQ'),
            h('h2', {},
              (faq.titleBase || ''),
              h('span', { className: 'accent' }, faq.titleHighlight || '')
            ),
            (faq.items || []).map(function (item, i) {
              return h('div', { key: i, className: 'faq-item' },
                h('h4', {}, '‚ùì ' + (item.question || '')),
                h('p', {}, item.answer || '')
              );
            })
          ),

          h('hr', { className: 'section-divider' }),

          // ‚ïê‚ïê‚ïê CONTACT ‚ïê‚ïê‚ïê
          h('div', { className: 'preview-section preview-contact' },
            h('div', { className: 'section-label' }, 'CONTACT'),
            h('h2', {},
              (contact.headingLine1 || ''),
              h('span', { className: 'accent' }, contact.headingHighlight || '')
            ),
            h('p', {}, contact.subtitle || ''),
            h('div', { className: 'contact-grid' },
              h('div', { className: 'contact-card' },
                h('div', { className: 'label' }, 'üìß ◊ê◊ô◊û◊ô◊ô◊ú'),
                h('div', { className: 'value' }, contact.email || '')
              ),
              h('div', { className: 'contact-card' },
                h('div', { className: 'label' }, 'üì± ◊ò◊ú◊§◊ï◊ü'),
                h('div', { className: 'value' }, contact.phoneDisplay || '')
              ),
              h('div', { className: 'contact-card' },
                h('div', { className: 'label' }, 'üíö ◊ï◊ï◊ê◊ò◊°◊ê◊§'),
                h('div', { className: 'value' }, contact.whatsappNumber || '')
              ),
              h('div', { className: 'contact-card' },
                h('div', { className: 'label' }, 'üì∏ ◊ê◊ô◊†◊°◊ò◊í◊®◊ù'),
                h('div', { className: 'value' }, contact.instagramUrl || '')
              )
            ),
            // Footer
            h('div', { style: { marginTop: '40px', paddingTop: '20px', borderTop: '1px solid rgba(255,255,255,0.05)', textAlign: 'center' } },
              h('p', { style: { fontSize: '13px', color: 'rgba(255,255,255,0.3)' } }, contact.copyrightText || ''),
              h('p', { style: { fontSize: '12px', color: 'rgba(255,255,255,0.2)' } }, contact.creditsText || '')
            )
          ),

          // ‚ïê‚ïê‚ïê WHATSAPP FLOAT ‚ïê‚ïê‚ïê
          h('div', {
            style: {
              position: 'fixed',
              bottom: '24px',
              left: '24px',
              background: '#25D366',
              color: '#fff',
              borderRadius: '50%',
              width: '56px',
              height: '56px',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              boxShadow: '0 4px 20px rgba(37,211,102,0.4)',
              fontSize: '28px',
              zIndex: 999
            }
          }, 'üí¨')
        );
      }
    });

    // Register the preview for our file collection
    CMS.registerPreviewTemplate('site-data', SitePreview);

    // Custom Welcome Message & UI Fixes
    window.onload = function () {
      // 1. Welcome Message
      var checkHeader = setInterval(function () {
        var header = document.querySelector('header');
        if (header) {
          clearInterval(checkHeader);
          var welcome = document.createElement('div');
          welcome.innerHTML = '<span style="font-weight:600; color:#cbd5e1; margin-right:16px;">Welcome back, Oren üëã</span>';
          header.insertBefore(welcome, header.firstChild);
        }
      }, 1000);

      // 2. Force Dark Mode on Stubborn CMS Elements (Gray Bars)
      var observer = new MutationObserver(function (mutations) {
        // Find all gray header bars
        var headers = document.querySelectorAll('[class*="TopBarContainer"], [class*="ObjectWidgetTopBarContainer"]');
        headers.forEach(function (el) {
          if (el.style.backgroundColor !== 'rgb(45, 45, 45)') {
            el.style.setProperty('background-color', '#2d2d2d', 'important');
            el.style.setProperty('border-bottom', '1px solid #444', 'important');
            el.style.setProperty('color', '#ffffff', 'important');

            // Force white text on children
            var children = el.querySelectorAll('*');
            children.forEach(function (child) {
              child.style.setProperty('color', '#ffffff', 'important');
            });
          }
        });

        // Find nested object items that might be gray
        var listItems = document.querySelectorAll('[class*="ListItem"]');
        listItems.forEach(function (el) {
          if (el.style.backgroundColor !== 'rgb(18, 18, 18)') {
            el.style.setProperty('background-color', '#121212', 'important');
            el.style.setProperty('border', '1px solid #333', 'important');
          }
        });
      });

      // Start observing the body for changes
      observer.observe(document.body, { childList: true, subtree: true });
    };
  </script>
</body>

</html>